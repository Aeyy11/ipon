<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Drop Grow Smile Board</title>

<style>
body{
    margin:0;
    font-family: Arial, Helvetica, sans-serif;
    background:#eaf4ff;
    display:flex;
    justify-content:center;
    align-items:center;
    min-height:100vh;
}

/* board */
.board{
    position:relative;
    background:#1e5aa8;
    padding:25px;
    border-radius:12px;
    box-shadow:0 12px 30px rgba(0,0,0,0.25);
}

/* grid */
.grid{
    display:grid;
    grid-template-columns:repeat(16, 42px);
    gap:6px;
    margin-bottom:20px;
    width:max-content;
}

/* cells */
.cell{
    background:#bfe3ff;
    color:#0b2a4a;
    text-align:center;
    padding:6px 0;
    border-radius:5px;
    font-weight:bold;
    cursor:pointer;
    user-select:none;
    border:2px solid #ffffff;
    transition:0.2s;
}

.cell.shaded{
    background:#2d7be5;
    color:#fff;
}

/* controls */
.controls{
    width:100%;
    display:flex;
    justify-content:center;
    margin-bottom:15px;
}

/* LONG UNDO BUTTON */
.undo-btn{
    width:100%;
    background:#ffffff;
    color:#1e5aa8;
    border:none;
    padding:12px 0;
    font-weight:bold;
    border-radius:6px;
    cursor:pointer;
    box-shadow:0 4px 10px rgba(0,0,0,0.15);
    transition:0.2s;
    font-size:16px;
}

.undo-btn:hover{
    transform:translateY(-1px);
}

/* bottom */
.bottom{
    display:flex;
    justify-content:space-between;
    align-items:center;
}

.slogan{
    color:#fff;
    font-size:32px;
    font-weight:600;
}

.price{
    color:#fff;
    border:3px solid #fff;
    padding:10px 18px;
    font-size:28px;
    font-weight:bold;
    border-radius:6px;
}

/* COMPLETE overlay */
.complete-overlay{
    position:absolute;
    inset:0;
    background:rgba(0,0,0,0.65);
    display:flex;
    justify-content:center;
    align-items:center;
    font-size:64px;
    font-weight:bold;
    color:#ffffff;
    border-radius:12px;
    opacity:0;
    pointer-events:none;
    transition:0.3s;
}

.complete-overlay.show{
    opacity:1;
}
</style>
</head>
<body>

<div class="board">

<div class="grid" id="grid"></div>

<div class="controls">
    <button class="undo-btn" id="undoBtn">UNDO</button>
</div>

<div class="bottom">
    <div class="slogan">&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; Baguio Birthday Trip </div>
    <div class="price">â‚± 20,000</div>
</div>

<div class="complete-overlay" id="completeBox">
    COMPLETE ðŸŽ‰
</div>

</div>

<script>
const numbers = [
[400,10,10,20,10,200,10,40,10,200,40,10,10,100,200,10],
[20,200,20,40,20,10,40,10,20,40,20,40,40,10,40,40],
[200,10,10,10,100,40,40,400,10,400,10,20,40,100,100,100],
[100,40,400,400,200,40,20,40,20,100,40,10,20,40,10,20],
[10,20,40,20,20,40,100,10,100,10,20,400,20,40,10,100],
[40,10,40,20,40,20,10,40,20,200,100,20,100,100,40,10],
[100,200,40,10,40,10,1000,20,10,10,20,10,200,10,40,200],
[10,20,10,40,200,10,40,100,100,40,100,20,40,400,10,100],
[20,20,20,10,10,20,40,100,20,1000,10,20,40,1000,20,10],
[100,10,40,40,400,10,40,40,10,20,100,400,20,40,200,100],
[100,20,20,40,10,100,100,200,20,10,40,40,20,20,10,200],
[100,10,400,40,10,40,100,20,10,40,200,10,100,20,100,20],
[10,20,100,40,20,200,400,10,100,10,200,40,400,10,40,10],
[40,40,200,10,40,10,10,40,100,40,20,40,20,40,10,200],
[10,40,20,10,40,20,40,10,40,10,40,10,40,10,40,10],
[200,10,40,20,200,10,20,200,10,20,10,200,40,20,10,40]
];

const grid = document.getElementById("grid");
const completeBox = document.getElementById("completeBox");
const undoBtn = document.getElementById("undoBtn");

let shadedState = JSON.parse(localStorage.getItem("shadedCells") || "[]");
let historyStack = [...shadedState];
let shadedCount = 0;
const totalCells = numbers.flat().length;

const cells=[];

numbers.flat().forEach((num,index)=>{
    const cell=document.createElement("div");
    cell.className="cell";
    cell.textContent=num;

    if(shadedState.includes(index)){
        cell.classList.add("shaded");
        shadedCount++;
    }

    cell.addEventListener("click",()=>{
        if(!cell.classList.contains("shaded")){
            cell.classList.add("shaded");
            shadedState.push(index);
            historyStack.push(index);
            localStorage.setItem("shadedCells", JSON.stringify(shadedState));
            shadedCount++;

            if(shadedCount===totalCells){
                completeBox.classList.add("show");
            }
        }
    });

    cells.push(cell);
    grid.appendChild(cell);
});

/* UNDO */
undoBtn.addEventListener("click",()=>{
    if(historyStack.length===0) return;

    const lastIndex = historyStack.pop();
    shadedState = shadedState.filter(i=>i!==lastIndex);
    localStorage.setItem("shadedCells", JSON.stringify(shadedState));

    cells[lastIndex].classList.remove("shaded");
    shadedCount--;

    completeBox.classList.remove("show");
});

if(shadedCount===totalCells){
    completeBox.classList.add("show");
}
</script>

</body>
</html>
